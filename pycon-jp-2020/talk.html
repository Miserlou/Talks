<!DOCTYPE html><html><head><title></title><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" /><style type='text/css'>
body {
  font-family:'Helvetica';
  letter-spacing:-5px;
  background:#000;
  background-size:100%;
  color:#fff;
  margin:0;
  padding:0;
  font-weight:bold;
}

ul, pre {
  letter-spacing: 0px;
}

h1, h2, h3, p {
  margin:0;
}

em, a {
  font-style:normal;
  color: #ff0000;
}

a {
  background:#34d0e7;
  color:#000;
  text-decoration:none;
}

img {
  width:100%;
}

div {
  cursor:pointer;
  cursor:hand;
  position:absolute;
  top:0px;
  left:0px;
  padding:75px;
  line-height:97%;
}

div.center {
  text-align:center;
}

div.imageText {
  text-shadow:0px 0px 5px rgba(0,0,0,0.2);
}

notes {
    display:none;
}
/* normally not good, but ok in context of full screen directional navigation */
:focus {
    outline: 0;
}

.grey{
  color: #888;
}

</style><script type='text/javascript'>
window.onload = function() {
  var s = document.getElementsByTagName('div'), ti, i;
  for (i = 0; i < s.length; i++) s[i].setAttribute('tabindex', 0);
  if (!s.length) return;
  var big = window.big = { current: 0, forward: fwd, reverse: rev, go: go, length: s.length };
  function resize() {
    var w = window.innerWidth, h = window.innerHeight, e = s[big.current];
    e.style.fontSize = h + 'px';
    function pass(cinch, start) {
      for (var i = start; i > 0 && (e.offsetWidth > w || e.offsetHeight > h); i -= cinch) {
        e.style.fontSize = i + 'px';
      }
      return i + cinch;
    }
    pass(2, pass(5, pass(10, h - 2)));
    e.style.marginTop = (h - e.offsetHeight) / 2 + 'px';
  }
  function go(n) {
    big.current = n;
    var e = s[n], t = parseInt(e.getAttribute('data-timeToNext') || 0, 10),
      notes = e.getElementsByTagName('notes');
    document.body.className = e.getAttribute('data-bodyclass') || '';
    for (i = 0; i < s.length; i++) s[i].style.display = 'none';
    e.style.display = 'inline';
    e.focus();
    for (i = 0; typeof console === 'object' && i < notes.length; i++) console.log('%c%s: %s', 'padding:5px;font-family:serif;font-size:18px;line-height:150%;', n, notes[i].innerHTML.trim());
    if (e.firstChild && e.firstChild.nodeName === 'IMG') {
      document.body.style.backgroundImage = 'url("' + e.firstChild.src + '")';
      e.firstChild.style.display = 'none';
      if ('classList' in e) e.classList.add('imageText');
    } else {
      document.body.style.backgroundImage = '';
      document.body.style.backgroundColor = e.style.backgroundColor;
    }
    if (ti !== undefined) window.clearInterval(ti);
    if (t > 0) ti = window.setTimeout(fwd, t * 1000);
    resize();
    if (window.location.hash !== n) window.location.hash = n;
    document.title = e.textContent || e.innerText;
  }
  document.onclick = function() { go(++big.current % s.length); };
  function fwd() { go(Math.min(s.length - 1, ++big.current)); }
  function rev() { go(Math.max(0, --big.current)); }
  document.onkeydown = function(e) {
    if (e.which === 39 || e.which === 34 || e.which === 40) fwd();
    if (e.which === 37 || e.which === 33 || e.which === 38) rev();
  };
  document.ontouchstart = function(e) {
    var x0 = e.changedTouches[0].pageX;
    document.ontouchend = function(e2) {
      var x1 = e2.changedTouches[0].pageX;
      if (x1 - x0 < 0) fwd();
      if (x1 - x0 > 0) rev();
    };
  };
  function parse_hash() {
    return Math.max(Math.min(s.length - 1,
      parseInt(window.location.hash.substring(1), 10)), 0);
  }
  if (window.location.hash) big.current = parse_hash() || big.current;
  window.onhashchange = function() {
    i = parse_hash();
    if (i !== big.current) go(i);
  };
  window.onresize = resize;
  go(big.current);
};
</script></head><body>

<!--

 * Who I Am
  * This talk will be quite fast paced!
 * Zappa! The Story
 * Destroy ops! Save money! Blah blah!
 * New features for PyConSG! Python3.7 - New Packages Support
 * Show the "fan out" pattern:
  * Train a model across lots of Lambdas, sweet.
 * I have been a terrible maintainer! I'm sorry about this!
  * The community have been doing a very good job of keeping it alive!
 * Amazon are quite evil!
  * Under pay workers
  * Pattern of ripping off OSS Developers
  * What happened to software freedom?
  * They never paid me a dollar, but they did rip off the project and make a worse version.
* Cloud = Somebody Else's Computer
* Serverless* = Somebody Else's Computer, For a Very Short Period of Time
* Boo Amazon, Let's build our own FaaS provider!
* We're going to use "OpenFaaS"
* "PLONK" Stack
    Prometheus - metrics and time-series
    Linkerd - service mesh
    OpenFaaS - management and auto-scaling of compute - PaaS/FaaS
    NATS - asynchronous message bus / queue
    Kubernetes - declarative, extensible, scale-out, self-healing clustering
    * https://www.openfaas.com/blog/plonk-stack/
  * Very Short Demo
* But wait - this sucks!
  * So much ops! We have gone all the way back around!
* Are we even serverless? Yes for developers, but not for operators.
* Let's go _truly_ serverless
* "Redecentralize the web!" - TBL
  * Literally no servers, only clients!
* IPFS!
  * Content is it's own address!
* Dat / Beaker!
  * Clients serve content to peers, but content is still updatable
* New technologies will enable new _massively collaborative efforts_
  * Non corporate, Non government! International colabororative!
* Less surveillance, more freedom, more autonomy
* A peer to peer "FAANG"!
* International co-ooperation!

-->

<div>
Hello!
</div>

<div>
Thank you for having me!
</div>

<div>
My name is <em>Rich Jones</em>!
</div>

<!--
From Serverless to Stateless

My story

more internationalist free software initiatives
not open source
  graeber example
  the phenomena of bullshit jobs
  entire industries
    anything primarily fueld with ad revenue or data tracking
  amazon
the software freedom project
  free software is political
  a defense of richard stallman
    who is richard stallman
    i don't
    the accomplishments of richard stallman
    i don't know what happened
    epstein
    clearly has autism
    there are many people with autism in our community
    my friend ted recently called me atypical
    so lets show some love
    rules are shifting and unclear
    i never met him but he is somewhat christlike to me
    i am not a member of the clergy just a practitioner
    the practice is what we should focus on
what power do we have?
how can we use it?
how can we eliminate it?
international projects
  carbon
  medicine
  energy
  food
  speech rights
    abandon the web
    replace all the componants
  any initiative which provides good stewardship of the planet and its people
solve metaproblems
  large scale descion makign
  multilanguage
  the creation of _jobs_
    - management, design
    - need better tools here!
  ascend idpol, focus on material, emphasize inclusionism
  create frameworks that make these things easy for people
    this is where python has always been excellent!
    and why I think the Python community is the right one to lead the charge
  can we use elders?
if we don't do this, the entire planet will die and we'll all be sold into economic slavery, living in little pods eating goo
there has to be a better future than that
-->

<div>
Author of
</div>

<div>
(shameless plug alert)
</div>

<div>
Zappa!
</div>

<div>
Python's <em>serverless</em> framework!
</div>

<div>
And..
  <ul>
    <li>NoDB</li>
    <li>lambda-packages</li>
    <li>django-knockout-modeler</li>
    <li>django-easy-timezones</li>
    <li>`loop`</li>
    <li>SoundScrape</li>
    <li>omnihash</li>
    <li>And more!..
  </ul>
</div>

<div>
Welcome to..
</div>

<div>
From <em>Serverless</em> To <em>Stateless</em>
</div>

<div>
‚ö†Ô∏è‚ö†‚ö†Ô∏èÔ∏èÔ∏èÔ∏èÔ∏èDisclaimer!‚ö†Ô∏è‚ö†‚ö†
</div>

<div>
This will be a little bit different than my <em>usual talks</em>!
</div>

<div>
(I have been alone in my room for 6 months!)
</div>

<div>
üòúüòúüòú
</div>

<div>
These are <em>crazy times</em>!
</div>

<div>
So,
</div>

<div>
less about <em>how</em> to solve problems,
</div>

<div>
more about <i><em>what</em> problems to solve!</i>
</div>

<div>
Most importantly:
</div>

<div>
That we solve them <em>together</em>!
</div>

<div>
This talk is going to move <em>fast</em>!
</div>

<div>
Better to be <em>overwhelmed</em> than bored!
</div>

<div>
Thank you to the <em>amazing</em> translation team!
</div>

<div>
<i>Part 1: Going <em>Serverless</em> With Zappa</i>
</div>

<div>
The story so far..
</div>

<div>
I had a <em>problem</em>!
</div>

<div>
I needed a website!
</div>

<div>
<img src="https://i.imgur.com/M2RY1Bf.jpg">
</div>

<div>
Website hosting is <em>expensive</em>!
</div>

<div>
VPS: 4 * $20 * 12 = <em>$960/yr</em>
</div>

<div>
How can I make that cheaper?
</div>

<div>
AWS <em>Lambda</em> + AWS <em>API Gateway</em>
</div>

<div>
"<em>Serverless</em>"
</div>

<!-- <div>
<i>aka</i>: "<em>no permanent infrastructure</em>"
</div>

<div>
<i>aka</i>: "<em>no permanent infrastructure</em>"*
</div> -->

<div>
Can I run my website <em>without</em> permanent servers?
</div>

<div>
üí°
</div>

<div>
Zappa!
</div>

<div>
Traditional web server:
</div>

<div>
<ul>
  <li>Web server (Apache/NX) listens for request</li>
  <li>Converts to WSGI "environ"</li>
  <li>Sends to WSGI server (Gunicorn)</li>
  <li>Django processes the request</li>
  <li>Web server returns it to the client</li>
  <li>Web server goes back to listening</li>
</ul>

</div>

<div>
Zappa:
</div>

<div>

<ul>
  <li>Request comes into API Gateway</li>
  <li>API request mapped to dict with VTL</li>
  <li>"Server" is <em>created</em></li>
  <li>"Server" converts dict to WSGI, feeds WSGI to Django</li>
  <li>Returns response to API Gateway</li>
  <li>"Server" is <em>destroyed</em></li>
  <li>API Gateway returns response to client</li>
</ul>
</div>

<div>
~30ms!
</div>

<div>
By the time the user sees the page, the server has <em>disappeared</em>.
</div>

<div>
Advantages!
</div>

<div>
Super <em>scalable</em>!
</div>

<div>
1 request = 1 server
</div>

<div>
10 request = 10 server
</div>

<div>
100 requests = 100 servers
</div>

<div>
1000 requests = 1000 servers
</div>

<div>
10000 requests = 10000 servers
</div>

<div>
Orders of magnitude <em>less expensive</em>!
</div>

<div>
$0.000000002<em>/ms</em>
</div>

<div>
¬•0.00000000002<em>/ms</em>
</div>

<div>
Plus 3,200,000 <em>free</em> seconds!
</div>

<div>
Zappa: $0.75 * 12 - Free = <em>$0/yr</em>
</div>

<div>
Zero <em>maintainance</em>!
</div>

<div>
Zero <em>load balancing</em>!
</div>

<div>
Zero <em>security patches</em>!
</div>

<div>
Zero <em>downtime</em>!
</div>

<div>
<i>"Cool! What else can it do?"</i>
</div>

<div>
<em>Event-driven</em> architecture!
</div>

<div>
Code executes <em>in response to events</em>
</div>

<div>
File uploads!
</div>

<div>
Incoming emails!
</div>

<div>
New users!
</div>

<div>
<i>"Neat! But I demand even more features!"</i>
</div>

<div>
You're in luck!
</div>

<div>
Rollback!
</div>

<div>
<pre>
$ zappa rollback -n 2
</pre>
</div>

<div>
Free SSL certificates!
</div>

<div>
<pre>
$ zappa certify
</pre>
</div>

<div>
Log tailing!
</div>

<div>
<pre>
$ zappa tail
</pre>
</div>

<div>
Auto <em>keep-warm</em>!
</div>

<div>
Use C-Extensions via <em>lambda-packages</em>!
</div>

<div>
  <ul>
    <li>MySQL-Python</li>
    <li>numpy</li>
    <li>OpenCV</li>
    <li>psycopg2</li>
    <li>Pillow (PIL)</li>
    <li>LXML</li>
    <li>PyCrypto</li>
    <li>PyNaCl</li>
    <li>cryptography</li>
    <li>cffi</li>
    <li>...+ hundreds more!</li>
</div>

<!-- <div>
Use >50MB packages!
</div> -->

<div>
Load <em>remote environment variables</em> from S3!
</div>

<div>
<pre>
<span class="grey">// my-config-bucket/super-secret-config.json</span>
{
    "<em>DB_CONNECTION_STRING</em>": "super-secret:database"
}
</pre>

</div>

<div>
<pre>
<span class="grey">// zappa_settings.json</span>
"remote_env_bucket": "my-config-bucket",
"remote_env_file": "super-secret-config.json"
</pre>
</div>

<div>
<pre>
<span class="grey"># your_zappa_app.py</span>
import os
db_string = os.environ('<em>DB_CONNECTION_STRING</em>')
</pre>
</div>

<div>
CI/CD <em>integration</em>!
</div>

<div>
<pre>
$ zappa status dev --json
</pre>
</div>

<div>
Remote command <em>invocation</em>!
</div>

<div>
<pre>
$ zappa invoke 'my_app.my_func'
</pre>
</div>

<div>
<pre>
$ zappa invoke 'print hello.upper()' --raw
</pre>
</div>

<div>
<em>Django</em> management commands!
</div>

<div>
<pre>
$ zappa manage makemigrations
</pre>
</div>

<div>
Don't need to modify your existing apps!
</div>

<div>
Battle tested!
</div>

<div>
Used in production by <em>banks</em>, <em>governments</em>, <em>medical</em> companies and more!
</div>

<div>
Works with any <em>WSGI</em> application!
</div>

<div>
Django!
</div>

<div>
(Wagtail! django-cms! Pinax!)
</div>

<div>
Flask!
</div>

<div>
Pyramid!
</div>

<div>
Bottle!
</div>

<div>
Hug!
</div>

<div>
<img src="http://i.imgur.com/W2Ndw3l.png">
</div>

<div>
<img src="http://i.imgur.com/BNmJV5w.png">
</div>

<div>
<i>"Wow! Okay! How do I get started!"</i>
</div>

<div>
It's super easy!
</div>

<div>
<pre>$ pip install zappa</pre>
</div>

<div>
<pre>$ zappa init</pre>
</div>

<div>
<pre>

<em>
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
‚ïö‚ïê‚ïê‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó
  ‚ñà‚ñà‚ñà‚ïî‚ïù ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë
 ‚ñà‚ñà‚ñà‚ïî‚ïù  ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù
</em>

Welcome to Zappa!

Zappa is a system for running server-less Python web applications on AWS Lambda and AWS API Gateway.
This `init` command will help you create and configure your new Zappa deployment.
Let's get started!

Your Zappa configuration can support multiple production environments, like 'dev', 'staging', and 'production'.
What do you want to call this environment (default 'dev'):
</pre>
</div>

<div>
  <pre>
  {
      "dev": {
          "aws_region": "us-east-1",
          "django_settings": "demo.settings",
          "profile_name": "default",
          "s3_bucket": "my-demo-bucket"
      }
  }
  </pre>
</div>

<div>
<pre>$ zappa deploy</pre>
</div>

<div>
<ul>
  <li>
    Smoosh your project + venv into a package
  </li>
  <li>
    Install Lambda-compatible dependancies
  </li>
  <li>
    Install WSGI middleware to make Django work
  </li>
  <li>
    Create permission policies and buckets (if necessary)
  </li>
  <li>
    Upload package to S3
  </li>
  <li>
    Register + configure Lambda function
  </li>
  <li>
    Register + configure API Gateway
  </li>
  <li>
    Delete package from S3
  </li>
  <li>
    Create "keep-warm" event
  </li>
</div>

<div>
<pre>
Calling deploy for stage dev..
Downloading and installing dependencies..
Packaging project as zip..
Uploading demo1-dev-1502298757.zip (11.1MiB)..
Scheduling..
Scheduled demo1-dev-zappa-keep-warm-handler.keep_warm_callback with expression rate(4 minutes)!
Uploading demo1-dev-template-1502298785.json (1.6KiB)..
Waiting for stack demo1-dev to create (this can take a bit)..
Deploying API Gateway..
<em>Deployment complete!</em>: https://8x24a8pmn7.execute-api.us-east-1.amazonaws.com/dev
</pre>
</div>

<div>
BAM!
</div>

<div>
You're server-less!
</div>

<!-- <div>
üêò
</div>

<div>
<em>Database</em>!
</div>

<div>
<i>*uh-oh*</i>
</div>

<div>
This is tricky!
</div>

<div>
Do you <em>need</em> a database?
</div>

<div>
Think <em>serverlessly</em>!
</div>

<div>
Avoid <em>infrastructure</em>!
</div>

<div>
ex: <em>NoDB</em> - incredibly simple, SQL-less, S3-based "database"
</div>

<div>
<pre>$ pip install nodb</pre>
</div>

<div>
<pre>
from <em>nodb</em> import <em>NoDB</em>

nodb = NoDB()
nodb.bucket = "my-s3-bucket"
nodb.index = "name"

<span class="grey"># Save an object!</span>
user = {"name": "Jeff", "age": 19}
<em>nodb.save(user)</em>

<span class="grey"># Load our object!</span>
<em>user = nodb.load("Jeff")</em>
print user.age # 19

<span class="grey"># Delete our object</span>
nodb.delete("Jeff") # True
</pre>
</div>

<div>
ex: <em>zappa-bittorrent-tracker</em> can serve millions of peers with S3-database
</div>
 -->

<div>
<em>Event-driven</em> architecture!
</div>

<div>
This is the fun part!
</div>

<div>
Execute code in response to AWS ecosystem <em>events</em>!
</div>

<div>
No blocking pages!
</div>

<div>
No Celery!
</div>

<!-- <div>
Example 1: <em>Avatar resizing</em>
</div>

<div>
User uploads an image, we make a thumbnail
</div>

<div>
HTTP -> S3 -> Lambda -> S3
</div>

<div>
  <img src="http://i.imgur.com/j4rirEL.png">
</div>

<div>
<pre>
<span class="grey">// zappa_settings.yml</span>
events:
- function: <em>users.util.process_avatar</em>
  event_source:
    arn: arn:aws:s3:::your-upload-bucket
    events:
    - <em>s3:ObjectCreated:*</em>
</pre>
</div>

<div>
<pre> $ zappa schedule </pre>
</div>

<div>
That's it! :D
</div>

<div>
  <i>*pro tip!*</i>
</div>

<div>
Make sure you don't get stuck in an infinite loop!
</div>

<div>
<pre>
<span class="grey">// zappa_settings.yml</span>
events:
- function: users.util.process_avatar
  event_source:
    arn: arn:aws:s3:::your-upload-bucket
    events:
    - s3:ObjectCreated:<em>/uploads/*</em>
</pre>
</div>

<div>
Example 2: <em>Daily notifications</em>
</div>

<div>
<em>Time</em> is an event source!
</div>

<div>
Send daily notifications to your Slack channel!
</div>

<div>
<img src="http://i.imgur.com/WDt1gyL.png">
</div>

<div>
<pre>
<span class="grey">// zappa_settings.yml</span>
events:
- function: my_app.util.send_notifications
  expression: <em>rate(24 hours)</em>
</pre>
</div> -->

<!-- <div>
<pre>
{
  "dev": {
     ...
     "events": [{
         "function": "my_app.utils.send_notifications",
         "expression": <em>"rate(24 hours)"</em>
     }],
     ...
  }
}
</pre>
</div> -->

<!-- <div>
<pre> $ zappa schedule </pre>
</div>

<div>
<img src="http://i.imgur.com/HmiGJW9.png" style="width: 200%">
</div>

<div>
Hooray!
</div>

<div>
üéâ<img src="https://emojipedia-us.s3.amazonaws.com/thumbs/240/apple/96/robot-face_1f916.png" style="width: 25%"> üéâ
üéâ<img src="https://emojipedia-us.s3.amazonaws.com/thumbs/240/apple/96/robot-face_1f916.png" style="width: 25%"> üéâ
</div> -->

<!-- <div>
We can use <em>cron</em> and <em>rate</em> syntax!
</div>

<div>
Multiple schedules!
</div>

<div>
<pre>
{
  "dev": {
     ...
     "events": [{
         "function": "my_app.utils.calc_status",
         "expressions": [<em>
            "cron(0 20-23 ? * SUN-THU *)",
            "cron(0 0-8 ? * MON-FRI *)"</em>
          ]
     }],
     ...
  }
}
</pre>
</div> -->

<div>
<i>"Sweet! But what if I don't want to wait for an event?</i>
</div>

<div>
Zappa can execute functions <em>asynchronously</em> in a <em>different</em> Lambda!
</div>

<div>
Let's bake a cake!
</div>

<div>
üç∞
</div>

<div>
<pre>
def bake_cake(<span class="grey">*args</span>, <span class="grey">**kwargs</span>):
     ingredients = get_ingredients()
     cake = bake(ingredients)
     deliver(cake)
</pre>
</div>

<div>
<pre>
from <em>zappa.asynchronous</em> import <em>task</em>

<em>@task</em>
def bake_cake(<span class="grey">*args</span>, <span class="grey">**kwargs</span>):
     ingredients = get_ingredients()
     cake = bake(ingredients)
     deliver(cake)
</pre>
</div>

<div>
<pre>
<span class="grey"># url('api/order/cake')</span>
def order_cake(<span class="grey">request</span>):
    <em>bake_cake()</em>
    return HttpResponse("Your cake is being made!")
</pre>
</div>

<div>
It's that easy!
</div>

<div>
No config!
</div>

<div>
No queues!
</div>

<div>
No Celery!
</div>

<div>
Go nuts!
</div>

<div>
üç∞üç∞üç∞üç∞üç∞üç∞üç∞üç∞üç∞üç∞üç∞üç∞üç∞üç∞üç∞üç∞üç∞üç∞üç∞üç∞üç∞
</div>

<div>
<i>"But what if I need to bake mission-critical cakes for the whole planet?"</i>
</div>

<div>
<em>Globally-available</em> server-less architecture!
</div>

<div>
<i>"That sounds cool! But why do I want that?"</i>
</div>

<div>
If your servers are <em>no-where</em>, then they can be <em>everywhere</em>!
</div>

<div>
Benefits of global deployments:
</div>

<div>
<i>#1</i>: <em>Redunancy</em>!
</div>

<div>
Cloud computing is an <em>act of faith</em>.
</div>

<div>
Amazon goes down too!
</div>

<div>
<i>*gasp*</i>
</div>

<div>
<img src="http://i.imgur.com/vJYLaQA.png">
</div>

<div>
Amazon goes down too..
</div>

<div>
..but (usually) <em>not across the planet</em>.
</div>

<div>
<i>Pro tip!</i>
</div>

<div>
Don't host your status page <em>on your own infrastructure</em>!
</div>

<div>
<img src="http://i.imgur.com/38nRhf4.png">
</div>

<div>
<img src="http://i.imgur.com/76V8CEd.png" style="width: 1000%">
</div>

<div>
<img src="http://i.imgur.com/CM42sF5.png">
</div>

<div>
<i>fail</i>
</div>

<div>
<i>#2</i>: <em>Speed</em>!
</div>

<div>
<pre>
$ ping apigateway.us-east-2.amazonaws.com <span class="grey"># Ohio</span>
--- apigateway.us-east-2.amazonaws.com ping statistics ---
round-trip min/avg/max/stddev = 35.274/<em>39.257</em>/42.731/2.499 ms
</pre>
</div>

<div>
<pre>
$ ping apigateway.ap-northeast-1.amazonaws.com <span class="grey"># Tokyo</span>
--- apigateway.ap-northeast-1.amazonaws.com ping statistics ---
round-trip min/avg/max/stddev = 177.616/<em>202.745</em>/305.468/46.281 ms
</pre>
</div>

<div>
<em>&gt;200ms</em> just for the round trip!
</div>

<div>
(Earth is big!)
</div>

<div>
Please provide <em>all the world's users</em> users with equally great service!
</div>

<!-- <div>
<i>#3</i>: <em>Scalability</em>!
</div>

<div>
1 region: ~<em>5,000</em> simultaneous connections
</div>

<div>
9 regions: ~<em>45,000</em> simultaneous connections!
</div>

<div>
<em>1,420,092,000,000</em> hits/year!
</div>

<div>
(Trillion! With a <i>t</i>!)
</div>

<div>
<i>#4</i>: <em>Security</em>!
</div>

<div>
<em>Compartmentalize</em> data, <em>limit</em> damage.
</div> -->

<!-- <div>
Combine <em>corporate policy</em>, <em>host security policy</em> (IAM), <em>virtual separation</em> and <em>physical separation</em>.
</div>
 -->
<!-- <div>
Defend against <em>internal</em> and <em>external</em> threats!
</div>

<div>
Prevent <em>non-US</em> employees accessing <em>US data</em>, etc.
</div>

<div>
PSA: This is a <em>big topic</em>. I'm <em>not</em> saying deploying globally makes you more secure by default. Consult your local hacker for more details.
</div>

<div>
<i>#5</i>: <em>Regulatory compliance</em>!
</div>

<div>
Different <em>countries</em> have different <em>laws</em>.
</div>

<div>
    Medical Data
</div>

<div>
    Financial Data
</div>

<div>
    Personally Identifying Information
</div>

<div>
    Private Communications
</div>

<div>
    Data Retention
</div>

<div>
    Etcetera..
</div>

<div>
(I'm not your lawyer. Thank goodness.)
</div>

<div>
<em>One</em> product may have different compliance needs in <em>many</em> countries.
</div> -->

<div>
<i>"Well, I'm convinced! How do we do it?"</i>
</div>

<div>
<pre>
$ zappa init
</pre>
</div>

<div>
<pre>
Do you want to make this a <em>global</em> application? Y
</pre>
</div>

<div>
<pre>
{
    "dev_ap_northeast_1": {
        "app_function": "geocake.app",
        "aws_region": "ap-northeast-1",
        "domain": "dev-ap-northeast-1.geocake.biz",
        "s3_bucket": "lmbda_dev_ap_northeast_1"
    },
    "dev_ap_northeast_2": {
        "app_function": "geocake.app",
        "aws_region": "ap-northeast-2",
        "domain": "dev-ap-northeast-2.geocake.biz",
        "s3_bucket": "lmbda_dev_ap_northeast_2"
    },

    [ ... ],

    "dev_us_west_2": {
        "app_function": "geocake.app",
        "aws_region": "us-west-2",
        "domain": "dev-us-west-2.geocake.biz",
        "s3_bucket": "lmbda_dev_us_west_2"
    }
}
</pre>
</div>

<div>
<pre>
$ zappa deploy --all
$ zappa certify --all
</pre>
</div>

<div>
Bam!
</div>

<div>
<pre>
httpstat https://dev-ap-northeast-1.geocake.biz/
httpstat https://dev-ap-northeast-2.geocake.biz/
...
httpstat https://dev-us-west-2.geocake.biz/
</pre>
</div>

<!-- <div>
<pre>
  DNS Lookup   TCP Connection   SSL Handshake   Server Processing   Content Transfer
[     5ms    |       8ms      |     50ms     |       42ms       |        0ms       ]
             |                |               |                   |                  |
    namelookup:5ms            |               |                   |                  |
                        connect:13ms          |                   |                  |
                                    pretransfer:75ms              |                  |
                                                      starttransfer:198ms            |
                                                                                 total:<em>198ms</em>
</pre>
</div> -->

<!-- <div>
<pre>
import os
this_region = os.environ.get('AWS_REGION')
</pre>
</div> -->

<!-- <div>
RAWK \m/
</div>

<div>
Since we're at <em>PyConJP</em>, I'd like to talk about
</div>

<div>
Elastic <em>BIG DATA</em> processing!
</div>

<div>
This trick will be useful if you need to process a lot of data but don't want to <em>manage infrastructure</em>!
</div>

<div>
OR
</div>

<div>
You need to do a lot of data processing as part of a <em>production system</em>!
</div>

<div>
The "<em>Fanout</em>" Pattern!
</div>

<div>
One Lambda -> <br />
Many Lambda -> <br />
One Lambda
</div>

<div>
Rapid elastic parallel processing, <em>no supercomputer required</em>!
</div>

<div>
Let's see some examples!
</div>

<div>
Example 1: Parallel Data Processing
</div>

<div>
Suppose I have a <em>large genetic dataset</em>, and I want to process it on a sample-wise basis!
</div>

<div>
First, grab your dataset from <em>refine.bio</em>!
</div>

<div>
<img src="https://i.imgur.com/7zKkiyw.png">
</div>

<div>
<img src="https://i.imgur.com/IjaTCAi.png">
</div>

<div>
<pre>
from pandas import DataFrame
from my_fancy_models import classify, store_result
from <em>zappa.asynchronous</em> import <em>task</em>

def load_samples(sample_path=<span class="grey">"mysamples.tsv"</span>):
  df = DataFrame.from_csv(sample_path, sep="\t")
samples = load_samples()

<em>@task</em>
def classify_sample(<span class="grey">sample</span>):
    classification = classify(sample)
    store_result(classification, sample)

def process_all_samples():
  for sample in samples:
    process_sample(sample)
</pre>
</div>

<div>
<pre>
$ zappa deploy
$ zappa invoke 'mybioapp.process_all_samples'
</pre>
</div>

<div>
Done!
</div>

<div>
This code still works locally!
</div>

<div>
Mix local and remote code:
</div>

<div>
<pre>
from pandas import DataFrame
from my_fancy_models import classify, store_result
from <em>zappa.asynchronous</em> import <em>task</em>

def load_samples(sample_path=<span class="grey">"mysamples.tsv"</span>):
  df = DataFrame.from_csv(sample_path, sep="\t")
samples = load_samples()

<em>@task</em>(
  remote_aws_lambda_function_name=<span class="grey">'my-classifier'</span>,
  remote_aws_region=<span class="grey">'us-east-1'</span><em>
)</em>
def classify_sample(<span class="grey">sample</span>):
    classification = classify(sample)
    store_result(classification, sample)

def process_all_samples():
  for sample in samples:
    process_sample(sample)
</pre>
</div>

<div>
Example 2: ML in Production
</div>

<div>
Suppose you have <em>lots of predictors</em>, and you want to choose the one with the <em>highest confidence</em>.
</div>

<div>
If each of the predictors can operate in less than the space of a request, but not all together:
</div>

<div>
<pre>
import concurrent.futures
from <em>zappa.asynchronous</em> import <em>run</em>

predictor_functions = [
  <span class="grey">'predictor.alpha'</span>,
  <span class="grey">'predictor.beta'</span>,
  <span class="grey">'predictor.delta'</span>
]

def run_predictions(<span class="grey">request</span>):
  executor = concurrent.futures.ThreadPoolExecutor()
  results = executor.map(<em>run</em>, predictor_functions)

  highest_confidence = 0.0
  final_prediction = None
  for result in results:
      if result.confidence > highest_confidence:
        final_prediction = result.prediction
        highest_confience = result.confidence

  return final_prediction
</pre>
</div>

<div>
One request -> Lots of predictions -> one response!
</div>
 -->

<div>
Hooray!
</div>

<div>
Hooray.. but!
</div>

<div>
My goal is to promote user <em>freedom</em>!
</div>

<div>
I just wanted a super <em>easy</em> and <em>cheap</em> way to host scalable services!
</div>

<div>
But now I've convinced thousands of people to use Amazon.
</div>

<div>
>:[
</div>

<div>
<i>Part 2: Why You <em>Shouldn't Use</em> Zappa</i>
</div>

<div>
Amazon has been <em>repeatedly hostile</em> to our community.
</div>

<div>
<img src="https://i.imgur.com/EXYJxNe.png">
</div>

<div>
Because of AWS' hostility to our community,
</div>

<div>
we lost <em>MongoDB</em>, <em>Redis</em> and <em>ElasticSearch</em> to proprietary licenses!
</div>

<div>
>>:[
</div>

<div>
They did it to me!
</div>

<div>
>>>:[
</div>

<div>
They <em>cloned</em> my project, made it worse, didn't even give a link back.
</div>

<div>
"<em>Embrace</em>, <em>Extend</em>, <em>Extinguish</em>" all over again!
</div>

<div>
..and that's just AWS!
</div>

<div>
Amazon <em>doesn't pay taxes</em>,
</div>

<div>
<img src="https://i.imgur.com/uC4s6MI.png">
</div>

<div>
destroyed small-town America,
</div>

<div>
<img src="https://i.imgur.com/HttbHha.png" />
</div>

<div>
overworks and underpays their employees,
</div>

<div>
<img src="https://i.imgur.com/7cMSwva.png">
</div>

<div>
all to further enrich the <em>richest man</em> in the world!
</div>

<div>
<img src="https://i.imgur.com/85PZk1e.png">
</div>

<div>
<i>(Jeff Bezos is a bond villain)</i>
</div>

<div>
<img src="https://i.imgur.com/PhurHn9.png" />
</div>

<div>
</div>

<!--
<div>
AWS: Did not reach out. Did not ever offer support. Didn't offer to pay my hosting bill. Not even a T-shirt. Ripped me off. While I was working for a children's cancer charity, didn't give us the same rate offer they give to startups.
</div>

<div>
Also: Make their workers pee into cups, destroyed mainstreet America, generally evil.
</div> -->

<div>
Screw Amazon!
</div>

<div>
<i>(I hope they're not a sponsor)</i>
</div>

<div>
Let's <em>build our own</em> Lambda!
</div>

<div>
<img src="https://blog.alexellis.io/content/images/2017/08/faas_side.png" width="1000px">
</div>

<!-- <div>An exmplary free software project!</div> -->

<div>
"LAMP"
</div>

<div>
<ul>
<li><em>L</em>inux</li>
<li><em>A</em>pache</li>
<li><em>M</em>ySQL</li>
<li><em>P</em>ython</li>
</ul>
</div>

<div>
<strike>"LAMP"</strike>
</div>

<div>
<strike>"LAMP"</strike>
"<em>PLONK</em>"!
</div>

<div>
<ul>
<li><em>P</em>rometheus</li>
<li><em>L</em>inkerd</li>
<li><em>O</em>penFaaS</li>
<li><em>N</em>ATS</li>
<li><em>K</em>ubernetes</li>
</ul>
</div>

<div>
<ul>
<li><em>P</em>rometheus</li>
<li><em>L</em>inkerd</li>
<li><em>OpenFaaS</em></li>
<li><em>N</em>ATS</li>
<li><em>Kubernetes</em></li>
</ul>
</div>

<div>
<ul>
  <li>Prometheus - metrics and time-series</li>
  <li>Linkerd - service mesh</li>
  <li><em>OpenFaaS</em> - management and auto-scaling of compute - PaaS/FaaS</li>
  <li>NATS - asynchronous message bus / queue</li>
  <li><em>Kubernetes</em> - declarative, extensible, scale-out, self-healing clustering</li>
</ul>
</div>

<div>
This gives us everything we need to build a free and open source <em>alternative to AWS</em> Lambda + API Gateway!
</div>

<div>
Run on <em>any cloud host</em>, or on your <em>own hardware</em>, or <em>both</em> at the same time!
</div>

<div>
Let's try it out!
</div>

<!-- <div>
I'm going to talk about three things!
</div>

<div>
* Processing <em>Big Data</em> With <em>Zappa</em>!
</div>

<div>
* Rolling Your Own FaaS with <em>OpenFaaS</em>!
</div>

<div>
* <em>True</em> Serverlessness and the <em>Peer to Peer Web</em>!
</div>

<div>
Let's get started!
</div> -->

<!-- <div>
It's as easy as..
</div>

<div>
  <img src="https://i.imgur.com/OoXv3Bu.png" />
</div> -->

<!-- <div>
<pre>
$ GO111MODULE="on" go get sigs.k8s.io/kind@v0.5.1
$ kind create cluster --name openfaas
$ export KUBECONFIG="$(kind get kubeconfig-path --name="openfaas")"
$ kubectl -n kube-system create sa tiller \
 && kubectl create clusterrolebinding tiller \
      --clusterrole cluster-admin \
      --serviceaccount=kube-system:tiller
$ curl -sLSf https://raw.githubusercontent.com/helm/helm/master/scripts/get | sudo bash
$ helm init --skip-refresh --upgrade --service-account tiller
$ kubectl create ns openfaas
$ kubectl create ns openfaas-fn
$ curl -sLSf https://cli.openfaas.com | sudo sh
$ helm repo add openfaas https://openfaas.github.io/faas-netes && \
  helm repo update && \
  helm upgrade openfaas --install openfaas/openfaas \
    --namespace openfaas  \
    --set basic_auth=false \
    --set functionNamespace=openfaas-fn \
    --set operator.create=true
$ git clone https://github.com/openfaas/faas-netes && cd faas-netes
$ helm upgrade --install --namespace openfaas --set functionNamespace=openfaas-fn --set async=true --set rbac=false --set serviceType=LoadBalancer openfaas chart/openfaas
$ kubectl port-forward svc/gateway -n openfaas 8080:8080
</pre>
</div>
 -->

<!-- <div>
<i>(okay that's not super easy)</i>
</div> -->

<!-- <div>
<pre>
$ curl -sL https://cli.openfaas.com | sudo sh
</pre>
</div>
 -->
<!-- <div>
<i>(okay that's a bad practice but it's easy)</i>
</div> -->

<!-- <div>
<pre>
$ faas
  ___                   _____           ____
 / _ \ _ __   ___ _ __ |  ___|_ _  __ _/ ___|
| | | | '_ \ / _ \ '_ \| |_ / _` |/ _` \___ \
| |_| | |_) |  __/ | | |  _| (_| | (_| |___) |
 \___/| .__/ \___|_| |_|_|  \__,_|\__,_|____/
      |_|


Manage your OpenFaaS functions from the command line
</pre>
</div>

<div>
<pre>
$ kubectl --namespace=openfaas get deployments -l "release=openfaas, app=openfaas"
NAME           READY   UP-TO-DATE   AVAILABLE   AGE
alertmanager   1/1     1            1           34m
faas-idler     1/1     1            1           34m
gateway        1/1     1            1           34m
nats           1/1     1            1           34m
prometheus     1/1     1            1           34m
queue-worker   1/1     1            1           34m
</pre>
</div>

<div>
<pre>
$ <em>kubectl</em> --namespace=<em>openfaas</em> get deployments -l "release=openfaas, app=openfaas"
NAME           READY   UP-TO-DATE   AVAILABLE   AGE
alertmanager   1/1     1            1           34m
faas-idler     1/1     1            1           34m
gateway        1/1     1            1           34m
<em>nats</em>           1/1     1            1           34m
<em>prometheus</em>     1/1     1            1           34m
queue-worker   1/1     1            1           34m
</pre>
</div>

<div>
<img src="https://i.imgur.com/Gnu5NmW.png" />
</div>

<div>
Let's make a function!
</div>

<div>
<pre>
$ faas new --lang python3 echoupper --prefix richjones
Function created in folder: echoupper
Stack file written: echoupper.yml
</pre>
</div>

<div>
<pre>
<span class="grey">#echoupper.yml</span>
version: 1.0
provider:
  name: openfaas
  gateway: http://localhost:8080
functions:
  sample:
    lang: python3
    handler: ./echoupper
    image: richjones/echoupper:latest
</pre>
</div>

<div>
<pre>
def handle(<span class="grey">req</span>):
     return req.upper()
</pre>
</div>

<div>
<pre>
$ faas up -f echoupper.yml
</pre>
</div>

<div>
<pre>
$ echo Hi! | faas-cli invoke echoupper
HI!
</pre>
</div>

<div>
<pre>
$ curl -d "Hi!" http://127.0.0.1:8080/function/echoupper
HI!
</pre>
</div>

<div>
Sweet!
</div>

<div>
An extremely complicated, highly scalable, non-AWS echo cloud function!
</div>

<div>
<i>(oh wow how useful :|)</i>
</div>

<div>
More functionality in the OpenFaaS <em>Function Store</em>!
</div>

<div>
A growing collection of useful, community-contributed, <em>free and open-source microservices </em> for your application!
</div>

<div>
<img src="https://i.imgur.com/4J7iziv.png">
</div>

<div>
<em>LEGO</em> for big data processing and machine learning!
</div>

<div>
<i>(oh, actually cool!)</i>
</div> -->

<div>
<i>!!! <em>NEW PROJECT ALERT</em> !!!</i>
</div>

<div>
<img src="https://i.imgur.com/OnsFlxn.png">
</div>

<div>
Fashion: <em>Easy</em> and <em>Awesome</em> Pythonic OpenFaaS!
</div>

<div>
<img src="https://i.imgur.com/rID7qi6.png">
</div>

<div>
Use OpenFaaS functions as if they were <em>native</em>,
</div>

<div>
but they run in their <em>own containers</em>!
</div>

<div>
<pre>
from <em>fashion</em> import <em>figlet</em>
hi = figlet("Hello, world!")
<span class="grey">#  _   _      _ _                             _     _ _</span>
<span class="grey"># | | | | ___| | | ___    __      _____  _ __| | __| | |</span>
<span class="grey"># | |_| |/ _ \ | |/ _ \   \ \ /\ / / _ \| '__| |/ _` | |</span>
<span class="grey"># |  _  |  __/ | | (_) |   \ V  V / (_) | |  | | (_| |_|</span>
<span class="grey"># |_| |_|\___|_|_|\___( )   \_/\_/ \___/|_|  |_|\__,_(_)</span>
<span class="grey">#                    |/</span>
</pre>
</div>

<div>
No function definition required!
</div>

<div>
<i>thanks, PEP562!</i>
</div>

<div>
Chain functions together!
</div>

<div>
<pre>
from <em>fashion</em> import <em>leftpad</em>, <em>figlet</em>
figlet(leftpad("Hello!"))
<span class="grey">#  _                _   _      _ _       _ _</span>
<span class="grey"># ( )              | | | | ___| | | ___ | ( )</span>
<span class="grey"># |/               | |_| |/ _ \ | |/ _ \| |/</span>
<span class="grey">#                  |  _  |  __/ | | (_) |_|</span>
<span class="grey">#                  |_| |_|\___|_|_|\___/(_)</span>
</pre>
</div>

<div>
Make asynchronous calls!
</div>

<div>
<pre>
from <em>fashion</em> import <em>async_figlet</em>
async_figlet("Hello!")
<span class="grey"># "6a3ae7fb-a8ee-4988-b7de-e3b81d1aed65"</span>
</pre>
</div>

<div>
Chain async calls together to build ETL pipelines!
</div>

<div>
<pre>
from <em>fashion</em> import <em>async_leftpad</em>
cf = [<span class="grey">"figlet"</span>, <span class="grey">"send_email"</span>]
async_leftpad("Hello", callback_functions=cf)
<span class="grey"># "6a3ae7fb-a8ee-4988-b7de-d3b81d1aed65"</span>
</pre>
</div>

<div>
Limit functions to certain instance types!
</div>

<div>
<i>(this is my favorite part)</i>
</div>

<div>
Run the <em>hard problems</em> on <em>expensive hardware</em>, run the <em>easy problems</em> on <em>cheap hardware</em>!
</div>

<div>
<pre>
<span class="grey">#update_model.yml</span>
  [..]
   constraints:
     - "node.labels.instance_type == gpu"
</pre>
</div>

<div>
<pre>
<span class="grey"># Runs on expensive GPU instance</span>
from <em>fashion</em> import <em>update_model</em>

<span class="grey"># Runs on cheap CPU instance</span>
from <em>fashion</em> import <em>send_result_email</em>

result = update_model(input)
send_email(result)
<span class="grey"># Email sent!</span>

</pre>
</div>

<div>
<em>PLONK</em> handles the placement and elasticity!
</div>

<div>
Automatic cost optimization at the application level!
</div>

<div>
‚ú®‚ú®‚ú®magic!‚ú®‚ú®‚ú®
</div>

<!-- <div>
<pre>
<span class="grey"># Runs on expensive GPU instance</span>
from <em>fashion</em> import <em>async_update_model</em>

<span class="grey"># Runs on cheap CPU instance</span>
from <em>fashion</em> import <em>send_result_email</em>

async_update_model(input, callback_function=<em>"send_result_email"</em>)
<span class="grey"># Email will be sent eventually!</span>

</pre>
</div> -->

<div>
Is this useful?
</div>

<div>
I don't know!
</div>

<div>
I hope so!
</div>

<div>
OpenFaaS is still young, but it is an <em>exemplary open source project</em> with a good team behind it!
</div>

<!-- <div>
Zappa vs PLONK
</div>

<div>
 <table style="width:100%">
  <tr>
    <th>Zappa</th>
    <th>PLONK</th>
  </tr>
  <tr>
    <td>Jill</td>
    <td>Smith</td>
  </tr>
  <tr>
    <td>Eve</td>
    <td>Jackson</td>
  </tr>
 </table>
</div> -->

<div>
Now we can use "serverless" patterns on our <em>own hardware</em>, or <em>more ethical</em> web hosts!
</div>

<div>
We're "<em>serverless</em>"..
</div>

<div>
We're "<em>serverless</em>".. but we have a lot of servers.
</div>

<div>
We're "<em>serverless</em>".. but we have a lot of servers. And tooling.
</div>

<div>
We're "<em>serverless</em>".. but we have a lot of servers. And tooling. And voodoo.
</div>

<div>
Goal: <em>destroy</em> ops.
</div>

<div>
Result: <em>more</em> ops!
</div>

<div>
>>>:[[[[
</div>

<div>
PLONK is good solution*..
</div>

<div>
..if you can handle the <em>complexity</em>..
</div>

<div>
..and you're already commited to <em>Kubernetes</em>..
</div>

<div>
..and you can <em>afford</em> the ops burden.
</div>

<div>
<i>(Kubernetes: great for consultants, lousy for lazy hackers)</i>
</div>

<div>
Fortunately, more cloud vendors offer <em>off-the shelf</em> Kubernetes, and <em>dedicated OpenFaaS hosts</em> are starting to appear.
</div>

<div>
But..
</div>

<div>
I'm just a <em>regular guy</em>!
</div>

<div>
I just want to run a service and <em>not worry about servers</em>!
</div>

<div>
Hmmm..
</div>

<div>
Okay then!
</div>

<div>
But is this really the <em>right problem</em> to solve?
</div>

<div>
<i>Part 3: From Serverless to Stateless!</i>
</div>

<div>
(This is what I really want to talk about!)
</div>

<div>
The world is going <em>crazy</em>!
</div>

<div>
The 21st century is giving us new challenges!
</div>

<div>
If <em>COVID-19</em> is a test,
</div>

<div>
we <em>failed</em>.
</div>

<div>
In the coming years, we are going to have to deal with:
</div>

<div>
pandemic viruses,
</div>

<div>
natural disasters,
</div>

<div>
infrastructure collapse,
</div>

<div>
mass human resettlement,
</div>

<div>
food shortages,
</div>

<div>
technological authoritarianism,
</div>

<div>
biological catastrophe,
</div>

<div>
climate disasters.
</div>

<div>
These are all <em>transnational problems</em>!
</div>

<div>
Nation-states aren't working!
</div>

<div>
20th century: <em>national</em> problems, <em>national</em> solutions.
</div>

<div>
21st century: <em>transnational</em> problems, <em>national</em> solutions?
</div>

<div>
No!
</div>

<div>
My thesis is:
</div>

<div>
Transnational problems need transnational <em>solutions</em>,
</div>

<div>
and the Free Software community can and should be the <em>model</em> for organizing those solutions.
</div>

<div>
 - 1985: GNU
 - 1989: Python
 - 1991: Linux
 - 2001: Wikipedia
 - 2004: OpenStreetMaps
</div>

<div>
...
</div>

<div>
What happened?
</div>

<div>
Have we given up?!
</div>

<div>
It doesn't feel like that..
</div>

<div>
..but what problems are we solving?
</div>

<div>
There has been a corporate takeover of our movement!
</div>

<div>
Free Software -> "Open Source"
</div>

<div>
Instead of providing a <em>non-state</em>, <em>non-corporate</em>, <em>liberation-focused</em> alternative:
</div>

<div>
  <img src="https://i.imgur.com/KAAbhSc.png">
</div>

<div>
Are we here to supply <em>free work</em> for Jeff Bezos?
</div>

<div>
<img src="https://i.imgur.com/0UKU7wG.png">
</div>

<div>
Another 21st century problem!
</div>

<div>
Almost <em>half</em> of all jobs are <em>bullshit</em>!
</div>

<div>
‚Äúa form of paid employment that is so completely pointless that even the employee cannot justify its existence‚Äù
</div>

<div>
‚Äúeven though, as part of the conditions of employment, the employee feels obliged to pretend that this is not the case.‚Äù
</div>

<div>
Entire <em>industries</em> are devoted to bullshit!
</div>

<div>
We have <em>so many problems ahead</em> and so many people working on <em>bullshit</em>!
</div>

<div>
A solution in itself!
</div>

<div>
The <em>Free Software movement</em> can provide a model for <em>creating meaningful work</em>!
</div>

<div>
Four elements:
</div>

<div>
<ul>
  <li>Technical</li>
  <li>Liberation-Centric </li>
  <li>Massive International Collaboration </li>
  <li>Not <em>State</em>, Not <em>Corporate</em> </li>
</ul>
</div>

<div>
~a brief aside~
</div>

<div>
üêòüè†
</div>

<div>
ÂÖ®Âì°„Åß„Çè„Åã„Å£„Å¶„ÅÑ„Çã„Çà„Åè„Å™„ÅÑË©±È°å
</div>

<div>
<pre>rms</pre>
</div>

<div>
Ideological founder of Free Software
</div>

<div>
Inventor of "<em>copyleft</em>"
</div>

<div>
(and author of emacs!)
</div>

<div>
long story short
</div>

<div>
Made a comment about his friend's connection to <em>Jeffrey Epstein</em> to an email group
</div>

<div>
Comment was misreported
</div>

<div>
Removed from his job and his home
</div>

<div>
This made me very upset!
</div>

<div>
üêòüè†
</div>

<div>
RMS is deeply autistic
</div>

<div>
We must remember <em>be kind</em> to people in our communities who are "<em>neuro-different</em>"!
</div>

<div>
I have never met him, but to me he was similar to Jesus.
</div>

<div>
I am not a member of the clergy, just an evangalist.
</div>

<div>
Please keep your the focus on <em>the power of people</em>!
</div>

<div>
What <em>power</em> do we have?
</div>

<div>
Quite a <em>lot</em>!
</div>

<div>
<em>Python</em> powers the world's computers! üåé
</div>

<div>
What else can we power?
</div>

<div>
<em>Carbon</em> removal
</div>

<div>
Production of <em>essential medicine</em>
</div>

<div>
Management of <em>land</em> and <em>food</em>
</div>

<div>
Protection of <em>free communication</em>
</div>

<div>
<i>Check out <em>ZeroNet</em>, in Python!
</i>

<div>
Care for the <em>elderly</em>!
</div>

<div>
Anything that improves the <em>health</em> of the <em>planet</em> and its <em>people</em>!
</div>

<div>
Best for us:
</div>

<div>
"<em>Metaproblems</em>"
</div>

<div>
Problems <em>about</em> problems!
</div>

<div>
These are great opportunities for the <em>Python community</em>!
</div>

<div>
<i>Transnational Decision Making!</i>
</div>

<div>
How can the <em>people of the USA</em> and the <em>people of Japan</em> make decisions together?
</div>

<div>
<pre>pip install shulze</pre>
</div>

<div>
<img src="https://i.imgur.com/Zu8LuxI.png">
</div>

<div>
<i>Translation!</i>
</div>

<div>
In 2020, it is still nearly impossible to have a real-time, <em>multi-language</em> conversation!
</div>

<div>
(Although PyconJP translators are <em>amazing!</em>)
</div>

<div>
The technology already <em>exists</em>, but it is not <em>liberated</em>!
</div>

<div>
<i>Creation and management of good <em>jobs</em>!</i>
</div>

<div>
Volunteering gives our lives <em>meaning</em> and <em>purpose</em>!
</div>

<div>
Let's expand this!
</div>

<div>
We need <em>managers</em> to create <em>good jobs</em>!
</div>

<div>
Frameworks for <em>transnational project management</em>!
</div>

<div>
Create <em>purpose</em> for more people!
</div>

<div>
We need more <em>Linux</em>es, <em>Wikipedia</em>s and <em>Python</em>s!
</div>

<div>
<em>You</em> should be the one to start it!
</div>

<div>
Get a friend, and <em>just start building</em>!
</div>

<div>
It's fun!
</div>

<div>
Smart, awesome people will join you!
</div>

<div>
Give them <em>responsibilities</em>, and they will <em>amaze</em> you!
</div>

<div>
<img src="https://i.imgur.com/rYSUNeT.png">
</div>

<div>
We dont have a choice - this is our <em>responsibility</em>!
</div>

<div>
We <em>inherited</em> the world, we need to make it <em>better than when we found it</em>!
</div>

<div>
Two futures:
</div>

<div>
Living <em>isolated</em> in an underground <em>pod</em> on a <em>dead planet</em>, eating AmazonPrime <em>goo</em>, working to make <em>trillionaires even richer</em>!
</div>

<div>
or
</div>

<div>
Working <em>together</em>, taking care of <em>each other</em> and <em>the planet</em>, sharing in work that gives our lives <em>meaning and dignity</em>!
</div>

<div>
I've got a new project
</div>

<!-- PHE -->
<div>
<img src="https://i.imgur.com/XzUs0wq.png">
</div>
<!-- PHE -->



<!-- <div>
Enter..
</div>

<div>
The <em>Peer-To-Peer</em> Web!
</div>

<div>
"Redecentralize" ~ Tim Berners Lee
</div> -->

<!--

Let's do a serious consideration of these services!

Benefits:
 - Reseliant web services that don't require an underlying surveillance/ad model.
 - Ops-free, cost-free publishing.
 - Weakening of copyright
 - Free speech!

There are tradeoffs.
 - P2P != Anonymity
    - A _different_ privacy model.
 - Security/QoS
 - Trolls benefit from free speech!
   - Advertisers benefit from trolls.
   - Moderation

-->

<!-- <div>
<img src="https://i0.wp.com/www.peacebiennale.info/blog/wp-content/uploads/2017/12/Fig-21.5-Baran_Diagrams-hi-res.jpg">
</div>

<div>
There is an <em>exciting landscape</em> of new P2P technologies and protocols!
</div>

<div>
Solid, NextCloud, ZeroNet, GUN, IPFS, dat, Scuttlebot, DataShards, WebTorrent, and many more!
</div>

<div>
"<em>RE-DECENTRALIZE</em>"
</div>

<div>
This is what Tim Berners Lee is working on!
</div>

<div>
Less centralized corporate control!
</div>

<div>
Better global distribution and interconnectivity!
</div>

<div>
New models of privacy!
</div>

<div>
Better network resiliance!
</div>

<div>
Less censorship, more creative expression!
</div>

<div>
More freedom for users!
</div> -->

<!-- <div><i>(Legalize drugs and gay!)</i></div>
 -->
<!--
<div>
<em>P</em>ersonal <em>D</em>ata <em>S</em>torage
</div>

<div>
Control your own private data, share <em>selectively</em>.
</div>

<div>
..but not the approach I am as interested in.
</div>
 -->
<!-- <div>
I want to run web services <em>without any</em> centralized servers!
</div>

<div>
Publish a service,
</div>

<div>
seed it,
</div>

<div>
peers visit,
</div>

<div>
peers keep seeding it
</div>

<div>
peers keep seeding it, <em>even after the original seed goes away</em>!
</div>

<div>
<i>"Sounds cool, but that sounds impossible!"</i>
</div>

<div>
We can do it right now!
</div>

<div>
Solid, GUN, IPFS, <em>dat</em>, DataShards, WebTorrent, and many more!
</div>

<div>
<img src="https://i.imgur.com/8DB8XWO.png" />
</div>

<div>
git + BitTorrent + HTTP = dat
</div>

<div>
git + BitTorrent + HTTP + ‚ú®‚ú®‚ú®magic‚ú®‚ú®‚ú® = dat
</div>

<div>
Designed for data scientists (<em>like you</em>!) to share large, mutable datasets!
</div>

<div>
<em>git</em> is bad for data, <em>dat</em> is great for data!
</div>

<div>
Also works great with dynamic web content!
</div>

<div>
<ul>
  <li>dat == HTTP</li>
  <li>dat-cli == cURL</li>
  <li>Beaker == Firefox</li>
  <li>Hashbase == GitHub</li>
</ul>
</div>

<div>
Let's publish a datsite!
</div>

<div>
<pre>
$ npm install dat
$ cd ~/src/my-website
$ dat .
</pre>
</div>

<div>
<pre>
$ dat .

Created new dat in /Users/rjones/pyconjp-datsite/.dat
<em>dat://c81299cfc139791ccc6db42f0bcac8a9af590c03828e8066478fcfc60ca6e481</em>
</pre>
</div>

<div>
<img src="https://i.imgur.com/yoBYqbi.png" />
</div>

<div>
Super easy!
</div>

<div>
Users download the site <em>each other</em>!
</div>

<div>
Dats can link to dats, and dats can be updated, so we can build <em>dynamic server-less applications</em>!
</div>

<div>
<img src="https://i.imgur.com/GZslLEN.png">
</div>

<div>
This could be the <em>begining of a new decentralized web</em>!
</div>

<div>
It's also <em>really fun</em>, like the old web was!
</div>

<div>
<img src="https://i.imgur.com/06Yudzf.png">
</div> -->

<!-- <div>
Web!
</div>

<div>
<img src="https://beakerbrowser.com/img/view-source.png" />
</div>

<div>
Chat!
</div>

<div>
<img src="https://cabal.chat/desktop.png">
</div> -->

<!-- <div>
We can replace <em>Google</em>, <em>Twitter</em>, <em>Facebook</em>, <em>Netflix</em>, <em>Uber</em>, <em>Slack</em>, <em>Spotify</em>, <em>SoundCloud</em>..
</div>

<div>
We <strike>can</strike> should replace <em>Google</em>, <em>Twitter</em>, <em>Facebook</em>, <em>Netflix</em>, <em>Uber</em>, <em>Slack</em>, <em>Spotify</em>, <em>SoundCloud</em>..
</div>

<div>
We <strike>can</strike> <strike>should</strike> must replace <em>Google</em>, <em>Twitter</em>, <em>Facebook</em>, <em>Netflix</em>, <em>Uber</em>, <em>Slack</em>, <em>Spotify</em>, <em>SoundCloud</em>..
</div>

<div>
with <em>free</em> and <em>open source</em> versions that don't <em>spy on us</em>!
</div>

<div>
I want to live in a post-advertising world!
</div>

<div>
<i>"But they're too entrenched and powerful!"</i>
</div>

<div>
<img src="https://i2-prod.walesonline.co.uk/news/wales-news/article15532146.ece/ALTERNATES/s615/1_myspace-tom.jpg">
</div>

<div>
(if you get that joke, you're officially old)
</div>

<div>
Dogpile, MySpace, Yahoo!, AOL, Snapchat, Digg, SourceForge, etc., etc.,
</div>

<div>
All tech incumbants can be <em>dethroned</em>!
</div>

<div>
<img src="https://fsmedia.imgix.net/d0/c7/ba/03/4910/4f4a/8c74/04f8b28d78be/drogon-with-a-dying-daenerys.jpeg?rect=0%2C29%2C970%2C486&auto=format%2Ccompress&dpr=2&w=650">
</div>

<div>
<i>sorry</i>
</div>

<div>
<i>(not sorry)</i>
</div>

<div>
The opportunities are <em>too large</em> and <em>too exciting</em> to ignore!
</div>

<div>
Even better, we can build <em>new types of collaborative services</em> we couldn't imagine before!
</div>

<div>
A thousand projects on the magnitude of Wikipedia!
</div>

<div>
<em>Free digital libraries</em> for everybody in the world!
</div>

<div>
Rather than dismantling oppressive systems,
</div>

<div>
we can <em>build liberated alternatives</em> that make the old systems obselete!
</div>

<div>
This has been our story <em>so far</em>,
</div>

<div>
and it should be our story into the <em>future</em> as well!
</div>

<div>
There is so much to be done!
</div>

<div>
New opportunities come with new challenges, challenges are fun!
</div>

<div>
Next time you start a project, consider opportunities to <em>redecentralize</em>!
</div>
 -->-->

<div>
Okay!
</div>

<div>
In conclusion!
</div>

<div>
Save <em>time</em> and <em>money</em>,
</div>

<div>
build awesome <em>event-driven</em> applications,
</div>

<div>
never have <em>downtime</em>,
</div>

<div>
be <em>fast</em> everywhere,
</div>

<div>
use <em>Zappa</em>!
</div>

<div>
(your favorite companies are!)
</div>

<div>
Or,
</div>

<div>
if you don't want to give any more money to <em>Jeff Bezos</em>,
</div>

<div>
who is literally an evil Bond villain,
</div>

<div>
use <em>PLONK</em> and <em>Fashion</em> to run efficient data processing pipelines on your own FaaS!
</div>

<div>
(but you'll have to learn Kubernetes!)
</div>

<div>
(which you can do at the workshop tomorrow!)
</div>

<div>
Finally,
</div>

<div>
if you want to be part of the <em>next generation</em> of web technologies and services</div>
</div>

<div>
join me in <em>redecentralizing</em> on the truly serverless <em>peer to peer</em> web!
</div>

<div>
(I have big plans!)
</div>

<div>
Want to <em>contribute</em>? üòÉ
</div>

<div>
<em>100+</em> contributors,
</div>

<div>
<img src="http://i.imgur.com/Mgpkgpa.png" style="width: 1000%">
</div>

<div>
<em>6</em> continents!
</div>

<div>
üêß
</div>

<div>
Ways <em>you</em> can help:
</div>

<div>
Join the Slack!
https://slack.zappa.io
</div>

<div>
Report bugs!
</div>

<div>
Fix bugs!
</div>

<div>
Pull request triage!
</div>

<div>
Build cool stuff!
</div>

<div>
Do you need <em>awesome</em>, <em>scalable</em>, <em>server-less</em> apps?
</div>

<div>
Hire me! üí∏üí∏üí∏
</div>

<div>
<em>Email</em>:
miserlou@gmail.com
</div>

<div>
<em>Code</em>:
https://github.com/Miserlou/Zappa </br>
https://github.com/Miserlou/Fashion </br>
https://github.com/Miserlou/Talks </br>
</em>
</div>

<div>
<em>Thank you</em>!
</div>

<div>
<em>HUGE</em> round of applause for our awesome organizers!
</div>

<div>
Questions?
</div>

<div>
üç∫üç∫üç∫ Let's get some beers! üç∫üç∫üç∫
</div>

</body>
</html>

